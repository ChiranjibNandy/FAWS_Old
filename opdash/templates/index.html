{% extends "_template_full.html" %}

{% block title %}FAWS Welcome{% endblock %}

{% block main %}

  {# THIS IS JUST AN EXAMPLE OF A SUPER SIMPLE, SINGLE PAGE ANGULAR COMPONENT #}

  <script>
    (function () {
        "use strict";

        // defining component to display all migration items
        angular.module("migrationApp")
            .component("rsmigrationindex", {
                templateUrl: "index_template.html",
                bindings: {
                  username: "@",
                  tenant_id: "@",
                  authtoken: "@"
                },
                controller: function($scope) {
                  this.$onInit = function () {
                    // This sets the default values
                    this.username = user_data.username;
                    this.tenant_id = user_data.tenant_id;
                    this.authtoken = user_data.authtoken;
                    console.info('USERNAME is:', user_data);
                  }
                }
            });
    })();
  </script>

  <div ng-app="migrationApp">
    <script type="text/ng-template" id="index_template.html">
      <h3>You are an authenticated user.</h3>
      <div>Username: {{$ctrl.username}}</div>
      <div>Tenant ID: {{$ctrl.tenant_id}}</div>
      <div>Authtoken: {{$ctrl.authtoken}}</div>
      <p style="margin-top:10px;">This is just a placeholder to show you how to get the logged in user info.</p>
    </script>
    <rsmigrationindex></rsmigrationindex>
  </div>

{% endblock %}
