<div class="rs-container migration-mgr">
    <br>
    <a href="#" ng-click="vm.showCancelDialog()" role="button" data-toggle="modal"><i class="fa fa-chevron-left"></i> Go to Migration Dashboard </a>
    <br>
    <br>
    <div class="rs-main rs-panel">
        <div class="rs-content rs-panel">
            <rsnavigationpanel pagenum="2"></rsnavigationpanel>
            <hr>
            <div class="rs-inner">
                <!--<div class="rs-row">
                    <div class="span-8">
                        <div class="migr-ddi-name">
                            {{vm.tenant_account_name}} ( #{{vm.tenant_id}} )
                          </div>
                            <div class="migr-name">
                                  <rseditbatchname></rseditbatchname>         
                        
                        </div>
                    </div>
                </div>-->
                <rstenantfawsdetails></rstenantfawsdetails>
                <br>
                
                <div class="rs-row">
                    <div class="span-12">
                        <h3>Review configurations and schedule your migration</h3>
                    </div>
                </div>
                <div class="clear"></div>
                <div class="rs-row">
                    <div class="span-6">
                        <rsselecteditemspanel showrec="true"></rsselecteditemspanel>
                    </div>
                     <div class="span-3">
                                <div class="plain-panel" style = min-height:240px;> 
                                    <a ng-link="['MigrationRecommendation']" class=" rs-btn-action rs-pull-right">
                                        <i class="rs-edit" title="Modify this"></i>
                                    </a>
                                    <h3>Projected Cost <a href="#" role="button" data-trigger="hover" data-placement="top" data-toggle="popover" data-content="The projected pricing consist of infrastructure costs only, and support costs are not included in the provided price."><i class="fa fa-info-circle rs-quiet"></i></a></h3>
                                    <hr>
                                    <p>
                                        <big><b>{{vm.cost | currency: '$'}}</b>/month </big>
                                        <br>
                                        <a href="#calculator_modal" role="button" data-toggle="modal"><i class="fa fa-calculator fa-fw" role="button" data-trigger="hover" data-placement="top" data-toggle="popover" data-content="Click here to estimate the cost of your predicted usage."></i></a> <small>Calculate Usage Costs</small>
                                    </p>
                                    <hr class="dash">
                                    <big><b>Support Level</b> </big>
                                    <p>
                                        Navigator <sup>&#174;</sup> <i class="fa fa-info-circle rs-quiet" role="button" data-trigger="hover" data-placement="top" data-toggle="popover" data-content="<b>Navigator Monthly Service Fee starts at $400</b>. We can act as a business associate to support customers with HIPAA workloads on AWS. Personal contact to assist with onboarding. A combined set of AWS and Rackspace recommendations from certified AWS architects"></i>
                                        <br>
                                        <small>* Navigator cost not reflected here.</small>
                                        <br>
                                        <small>Legal <a data-html="true"  data-placement="top" data-toggle="popover" data-content="<b>Please note that we may place a $1 authorization hold to confirm your account.</b> <br>
                                        <small>(Our lawyers make us say this)</small>
                                        <br> Your use of Rackspace websites is subject to the <a href='http://www.rackspace.com/information/legal/websiteterms?_ga=1.254955403.24213883.1488833556' target='_blank'>Website Terms</a>." ><i class="fa fa-info-circle rs-quiet"></i></a>
                                        </small>
                                    </p>
                                </div>
                            </div>
                      <rsschedulemigration></rsschedulemigration>
                </div>
              
                <br>
                
                
                    <div class="rs-pull-right">
                        <div class="faws-legal-txt">
                                <input id="accept_terms" name="accept_terms" type="checkbox" ng-model="vm.acceptTermsAndConditions" required="" class="ng-pristine ng-untouched ng-invalid ng-invalid-required"> <span  class="ng-binding"> I acknowledge that I have read and accept the <a href="https://www.rackspace.com/information/legal/GSA" target="_blank">Rackspace Global Services Agreement</a> and the <a href="http://www.rackspace.com/information/legal/awssupport" target="_blank">Fanatical Support for AWS Terms and Conditions</a>.</span>
                            </div>
                        <a class="rs-btn " ng-link="['MigrationRecommendation']">Back</a>
                        <a class="rs-btn" role="button" ng-click="vm.showCancelDialog()">Cancel Migration</a>
                        <button class="rs-btn rs-btn-primary "  type="submit" ng-click=" vm.showConfirmMigrateDialog(scheduleMigration)"   ng-disabled="!vm.scheduleMigration || !vm.acceptTermsAndConditions">Confirm & Schedule</button>
                        <a class="rs-btn rs-btn-primary disabled" ng-show="vm.migrating">Processing...</a>
                    </div>
                    <div class="clear"></div>
               
                <!--<div style="margin-top: 10px; text-align: right;" ng-show="vm.migrating" >Preparing and sending migration request...<i class="fa fa-refresh fa-spin" style="font-size:16px"></i></div>-->
                <div style="color: red; text-align: right;" ng-show="vm.errorInMigration" >Error while trying to migrate</div>
                <div class="rs-row" style="text-align: right;" ng-show="vm.saveLaterObj.resultMsg" ng-style="vm.saveLaterObj.saveSuccess == true ? {color:'green'} : {color:'red'}">{{vm.saveLaterObj.resultMsg}}</div>
                <br>
            </div>
        </div>
    
    
</div>
<rsinteractivefooter></rsinteractivefooter>

<!-- modals -->
<div id="cancel_modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="ModalForCancel" aria-hidden="true">
    <div class="modal-body">
        <h3>You have chosen this time for your migration.</h3>
        <form class=" ">
            <div class="rs-control-group">
                <div class="rs-controls">
                    <label class="rs-radio">
                        <input type="radio" ng-model="vm.saveProgress" value="yes">
                        <strong>Yes</strong><br>
                        <span class="rs-help-block">Save progress for later</span>
                      </label>
                    <label class="rs-radio">
                        <input type="radio" ng-model="vm.saveProgress" value="no">
                        <strong>No</strong>
                        <span class="rs-help-block">Cancel and move on</span>
                      </label>
                </div>
            </div>
            <button class="rs-btn" data-dismiss="modal" aria-hidden="true">Close</button>
            <button class="rs-btn rs-btn-primary " ng-class="{disabled:vm.saveProgress == ''}" ng-click="vm.submitCancel()" ng-hide="vm.cancelnSaveObj.saveInProgress">Submit</button>
            <a class="rs-btn disabled" disabled="disabled" ng-show="vm.cancelnSaveObj.saveInProgress">Submitting...</a>
            <i class="rs-processing-indicator" ng-show="vm.cancelnSaveObj.saveInProgress"></i>
            <br>
            <div ng-show="vm.cancelnSaveObj.resultMsg" ng-style="vm.cancelnSaveObj.saveSuccess == true ? {color:'green'} : {color:'red'}">{{vm.cancelnSaveObj.resultMsg}}</div>
        </form>
    </div>
</div>
  <!-- confrm migration modal -->
    <div id="confirm-migration-modal" class="modal hide animated fadeIn" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-header">
            <h3>You have chosen this time for your migration.</h3>
        </div>
        <div class="modal-body">
            <h3>{{vm.schedule.date}} </h3> 
            <p>Is this correct?</p>
            <div class="rs-control-group">
               <a ng-click="vm.migrate()" ng-show="!vm.migrating"  class="rs-btn rs-btn-primary">Yes, Continue</a>  
               <a class="rs-btn" data-dismiss="modal" aria-hidden="true">No, Go back</a>
            </div> 
        </div>
        <div class="modal-footer">   
        </div>
    </div>
    <!-- end modals -->
     <!-- modals -->
    <!-- calculator_modal -->
    <div id="calculator_modal" class="modal hide animated fadeIn" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-times"></i></button>
            <h3>Calculate Usage Costs</h3>
        </div>
        <div class="modal-body">
            Calculator goes here...
        </div>
        <div class="modal-footer">
            <button class="rs-btn" data-dismiss="modal" aria-hidden="true">Close</button>
        </div>
    </div>
<!-- end modals -->
 <script>
    $(document).ready(function() {
        $('[data-toggle="popover"]').popover({
            html: true
        });
    });
    </script>
  </script>
  
    <!-- accordion icon behavior -->
    <script type="text/javascript">
    $(document).ready(function() {
        $(".accordion-heading + .collapse:not(.in)").prev().append("<i class='fa fa-chevron-down'></i>");
        $(".accordion-heading + .collapse.in").prev().append("<i class='fa fa-chevron-up'></i>");
        $('.accordion-heading a').click(function() {
            $('.plain-panel').find('.collapse.in').prev().find("i").removeClass("fa-chevron-up").addClass("fa-chevron-down");
            $(this).parents('.accordion-heading').find("i.fa-chevron-down").removeClass("fa-chevron-down").addClass("fa-chevron-up");
            $(this).parents('.plain-panel').find('.collapse.in').prev().find("i.fa-chevron-up").removeClass("fa-chevron-up").addClass("fa-chevron-down");
        });
    });
    </script>