<div ng-if="!vm.fawsAcctStatus" class="alert alert-success small-alert animated fadeIn">
    <button type="button" class="close" data-dismiss="alert"><i class="fa fa-times"></i></button>
    <b>We notice you don't have a Fanatical AWS account.</b> One will be created on step 3 on confirmed migration.
</div>

<div class="rs-row">
    <div class="migr-ddi-name">{{vm.tenant_account_name}} #{{vm.tenant_id}}
        <span class="migr-ddi-name" ng-show="vm.fawsAcctStatus"><i class="fa fa-arrow-right fa-fw"></i>
            <div class="rs-dropdown rs-primary-dropdown">
                <a class="rs-dropdown-toggle" href="javascript:void(0);"> {{vm.selectedFaws}} <span class="rs-status" role="button" data-trigger="hover" data-placement="top" data-toggle="popover"></span>
                <i class="rs-caret"></i></a>
                <ul class="rs-dropdown-menu hidden">
                    <li class="rs-dropdown-item">
                        <span class="rs-dropdown-category">Choose which account to link:<a ng-click="vm.displayFawsAccounModal()" role="button" data-toggle="modal" class="rs-btn" ng-show="vm.editmigration === 'false'">Create FAWS Account</a></span>
                    </li>
                    <li class="rs-dropdown-item">
                        <select ng-model="vm.selectedFaws">
                                    <option ng-repeat="account in vm.awsAccountsDetails">{{account.name}} (#{{account.awsAccountNumber}})</option>
                                </select>
                    </li>
                </ul>
            </div>
        </span>
    </div>
</div>
<div class="migr-name" ng-show="vm.editmigration === 'true'">
    <rseditbatchname></rseditbatchname>
</div>

<div id="create-faws-account-modal" class="modal modal-success hide animated fadeIn" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-body">
        <big>We are creating a new FAWS account for you, <br> what would you like to name it?</big>
        <br>
        <br>
        <input type="text" ng-model="vm.fawsAcctName" class="rs-input-xlarge" placeholder="FAWS AccountName" />
        <br>
        <b>Please note that we may place a $1 authorization hold to confirm your account.</b> <br>
        <small>(Our lawyers make us say this)
        <br> Your use of Rackspace websites is subject to the <a href='http://www.rackspace.com/information/legal/websiteterms?_ga=1.254955403.24213883.1488833556' target='_blank'>Website Terms</a>.</small>
    </div>
    <div class="modal-footer">
        <span ng-show="vm.fawsResponse" ng-style="vm.FawsCreated == true ? {color:'green'} : {color:'red'}">{{vm.FawsCreated ? 'Created FAWS account Successfully' : 'Error while creating FAWS account for you. Pleasr try again after sometime...'}}"</span>
        <a class="rs-btn rs-btn-primary" ng-disabled="!vm.fawsAcctName" ng-click="vm.createFawsAccount()" ng-hide="vm.fawsCreationProgress">Submit &amp; Continue </a>
        <a class="rs-btn disabled" disabled="disabled" ng-show="vm.fawsCreationProgress">Submitting...</a>
        <a class="rs-btn" data-dismiss="modal" aria-hidden="true">Close</a>
    </div>
</div>


<script type="text/javascript">
    $(document).ready(function () {
        $('[data-toggle="popover"]').popover({
            html: true
        });
    });
    $(document).ready(function () {
        $('.rs-dropdown').each(function (i, element) {
            var menu = new canon.Menu();
            menu.attach(element);
        });
    });
</script>